"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{41844:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(17654),s=a(87709);function l(e,n){(0,s.Z)(2,arguments);var a=(0,t.Z)(e),l=(0,t.Z)(n);return a.getTime()===l.getTime()}},35863:function(e,n,a){a.d(n,{Z:function(){return r}});var t=a(27617),s=a(87709);function l(e,n){(0,s.Z)(2,arguments);var a=(0,t.Z)(e),l=(0,t.Z)(n);return a.getFullYear()===l.getFullYear()}function r(e){return(0,s.Z)(1,arguments),l(e,Date.now())}},98951:function(e,n,a){a.d(n,{Z:function(){return l}});var t=a(41844),s=a(87709);function l(e){return(0,s.Z)(1,arguments),(0,t.Z)(e,Date.now())}},51276:function(e,n,a){a.d(n,{Z:function(){return r}});var t=a(41844),s=a(27254),l=a(87709);function r(e){return(0,l.Z)(1,arguments),(0,t.Z)(e,(0,s.Z)(Date.now(),1))}},27254:function(e,n,a){a.d(n,{Z:function(){return o}});var t=a(83879),s=a(27617),l=a(87709);function r(e,n){(0,l.Z)(2,arguments);var a=(0,s.Z)(e),r=(0,t.Z)(n);return isNaN(r)?new Date(NaN):r?(a.setDate(a.getDate()+r),a):a}function o(e,n){(0,l.Z)(2,arguments);var a=(0,t.Z)(n);return r(e,-a)}},55492:function(e,n,a){a.d(n,{p:function(){return s}});var t=a(97458);a(52983);const s=e=>{let{small:n=!1}=e;return n?(0,t.jsx)("svg",{width:"32",height:"29",viewBox:"0 0 32 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M29.4449 0C20.5349 0 17.2461 6.37426 14.5967 11.4968L12.8645 14.7707C10.0552 20.2036 7.95873 23.5038 2.55507 23.5038C2.21944 23.5034 1.88705 23.5695 1.5769 23.6982C1.26675 23.827 0.984928 24.0158 0.747598 24.2539C0.510269 24.4921 0.322077 24.7749 0.193794 25.0861C0.065512 25.3973 -0.000343424 25.7309 1.34674e-06 26.0677C-0.000343424 26.4045 0.065512 26.738 0.193794 27.0492C0.322077 27.3605 0.510269 27.6432 0.747598 27.8814C0.984928 28.1195 1.26675 28.3084 1.5769 28.4371C1.88705 28.5658 2.21944 28.6319 2.55507 28.6316C11.4651 28.6316 14.7513 22.2573 17.4033 17.1348L19.1329 13.8609C21.9448 8.42801 24.0413 5.12781 29.4449 5.12781C30.1226 5.12781 30.7725 4.85769 31.2516 4.37686C31.7308 3.89604 32 3.2439 32 2.56391C32 1.88392 31.7308 1.23178 31.2516 0.750952C30.7725 0.270126 30.1226 0 29.4449 0Z",fill:"#DAE1E7"})}):(0,t.jsxs)("svg",{width:"74",height:"84",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5 53.533l-.17-4.325-6.628 3.815.422-7.32-.897.224C20.37 57.661 14.285 63.511 9.943 63.185c-2.783-.208-5.206 1.91-5.412 4.73-.204 2.822 1.885 5.28 4.667 5.489 8.551.64 16.746-5.948 25.302-19.87zM29.02 39.543l2.76-.352-1.288 7.252 7.064-3.02-.153 1.927a152.31 152.31 0 005.294-6.682c10.698-14.26 19.19-20.644 23.89-19.112 2.654.86 5.507-.62 6.371-3.316v.002c.865-2.695-.586-5.575-3.24-6.44-10.023-3.262-21.313 4.37-35.06 22.692a136.35 136.35 0 01-5.637 7.05z",fill:"#DAE1E7"}),(0,t.jsx)("path",{d:"M23.536 40.332l-6.792-5.97c-.448-.395-1.233-.382-1.619.103-.386.486-.378 1.195.104 1.619l6.793 5.97c.448.394 1.233.381 1.619-.104.386-.485.378-1.194-.105-1.618zM25.877 37.821l-.42-5.252c-.04-.511-.633-.914-1.123-.812-.556.117-.855.576-.813 1.123.14 1.748.278 3.497.42 5.251.04.512.632.915 1.123.813.555-.117.854-.576.813-1.123zM22.596 44.933l-5.28-.811c-.514-.08-1.09.335-1.14.776-.055.5.304.858.853.944 1.757.27 3.515.541 5.28.811.514.08 1.09-.336 1.14-.777.054-.5-.304-.857-.853-.943zM40.515 55.434c-.63-1.068-1.259-2.135-1.892-3.205-.183-.313-.684-.385-.964-.169-.316.246-.364.63-.169.965l1.892 3.204c.183.313.684.386.964.169.316-.246.364-.63.169-.965zM40.786 49.91c1.742.2 3.485.402 5.233.602.51.059 1.02-.444 1.015-.945-.008-.568-.4-.95-.945-1.014-1.743-.201-3.485-.403-5.234-.602-.51-.06-1.02.444-1.014.945.008.567.4.95.945 1.014z",fill:"#DAE1E7"})]})}},83671:function(e,n,a){a.d(n,{W:function(){return l}});var t=a(97458),s=(a(52983),a(208));const l=[{label:"Shipped",value:s.nT.Shipped,icon:(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-blue-500"})},{label:"Approved",value:s.nT.Approved,icon:(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-green-300"})},{label:"Needs review",value:s.nT.NeedsReview,icon:(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-orange-400"})},{label:"In progress",value:s.nT.InProgress,icon:(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-purple-400"})},{label:"No status",value:"NoStatus",icon:(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full bg-white border border-gray-200"})}]},37727:function(e,n,a){a.d(n,{y:function(){return i}});var t=a(97458),s=a(83849),l=a.n(s),r=a(52983),o=a(6552);const c=()=>(0,t.jsx)("svg",{width:"69",height:"62",viewBox:"0 0 69 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M63.3649 0C44.1908 0 37.1133 13.67 31.4118 24.6557L27.6841 31.6768C21.6386 43.3279 17.127 50.4054 5.49847 50.4054C4.7762 50.4047 4.06089 50.5464 3.39345 50.8224C2.72601 51.0985 2.11955 51.5035 1.60882 52.0142C1.09809 52.5249 0.693103 53.1314 0.417042 53.7988C0.140981 54.4663 -0.000739042 55.1816 2.89816e-06 55.9039V55.9039C-0.000739042 56.6261 0.140981 57.3414 0.417042 58.0089C0.693103 58.6763 1.09809 59.2828 1.60882 59.7935C2.11955 60.3042 2.72601 60.7092 3.39345 60.9853C4.06089 61.2614 4.7762 61.4031 5.49847 61.4023V61.4023C24.6726 61.4023 31.7445 47.7323 37.4517 36.7466L41.1737 29.7256C47.2248 18.0744 51.7364 10.9969 63.3649 10.9969C64.8232 10.9969 66.2218 10.4176 67.2529 9.38647C68.2841 8.35531 68.8634 6.95676 68.8634 5.49847V5.49847C68.8634 4.04019 68.2841 2.64163 67.2529 1.61047C66.2218 0.579304 64.8232 0 63.3649 0V0Z",fill:"#D9E0E6"})}),i=e=>{let{alt:n,hasError:a=!1,lazy:s=!1,onError:i,src:u}=e;const[d,h]=(0,r.useState)(!0),m=(0,r.useCallback)((()=>{h(!1)}),[]),f=(0,r.useCallback)((()=>{null==i||i(),m()}),[i,m]);return(0,t.jsxs)(t.Fragment,{children:[!a&&d&&u&&(0,t.jsx)(o.a,{type:"spinner",size:"sm"}),!a&&u?(0,t.jsx)("img",{role:"presentation",src:u,alt:n,className:l()("w-full h-full object-contain",{hidden:d}),loading:s?"lazy":"eager",onError:f,onLoad:m}):(0,t.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2",children:(0,t.jsx)(c,{})})]})}},85314:function(e,n,a){a.d(n,{v:function(){return i}});var t=a(97458),s=a(98951),l=a(51276),r=a(35863),o=a(40467),c=a(52983);const i=e=>{let{date:n}=e;const[a,i]=(0,c.useState)(""),u=(0,c.useCallback)((()=>{const e=new Date(n);(0,s.Z)(e)?i("today"):(0,l.Z)(e)?i("yesterday"):(0,r.Z)(e)?i("".concat((0,o.Z)(e,"d MMM"))):i("".concat((0,o.Z)(e,"yy/M/d")))}),[n]);return(0,c.useEffect)((()=>{u()}),[u]),(0,t.jsx)("span",{children:a})}},63374:function(e,n,a){a.d(n,{Z:function(){return s}});var t=a(97458);a(52983);const s=e=>{let{additionalClasses:n,children:a}=e;return(0,t.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(n),children:a})}},96921:function(e,n,a){a.d(n,{K:function(){return k}});var t=a(97458),s=a(83849),l=a.n(s),r=a(49183),o=a.n(r),c=a(52983),i=a(83671),u=a(55492),d=a(48619),h=a(37727),m=a(37276),f=a(41415),v=a(77708),p=a(84101),x=a(22512),b=a(83592),C=a(83157);const g=o()((async()=>a.e(3461).then(a.bind(a,43461))),{loadableGenerated:{webpack:()=>[43461]},ssr:!1}),j=o()((async()=>Promise.resolve().then(a.bind(a,77708))),{loadableGenerated:{webpack:()=>[77708]},ssr:!1}),w=o()((async()=>Promise.all([a.e(7255),a.e(1477),a.e(1127),a.e(1035),a.e(7443),a.e(7387),a.e(9006),a.e(5942),a.e(6469),a.e(3319),a.e(318)]).then(a.bind(a,57943))),{loadableGenerated:{webpack:()=>[57943]},ssr:!1}),S=e=>{let{isCollapsed:n=!1,status:a}=e;const s=i.W.find((e=>e.value===a));return a&&s?n?(0,t.jsx)("div",{className:"px-3 py-1 mt-1",children:s.icon}):(0,t.jsx)("div",{className:"px-1 text-gray-600 bg-gray-100 rounded-md",children:(0,t.jsxs)("div",{className:"flex items-center px-2 py-1 space-x-2 text-sm",children:[s.icon,(0,t.jsx)("p",{children:s.label})]})}):(0,t.jsx)(t.Fragment,{})},N=e=>{let{hasFullAccess:n,isHovered:a,isInSelectionMode:s,isSelectable:l,isSelected:r,onCheckboxChange:o}=e;return(0,t.jsx)("div",{className:"absolute right-0 z-20 top-2",children:(0,t.jsx)(m.Z,{variant:"caption-1",tag:"div",children:(a&&l||r||s)&&n&&(0,t.jsx)(f.X,{label:"check-card",checked:r,onChange:o})})})},y=e=>{let{animation:n,backgroundColor:a,hasFullAccess:s,hasPlayerError:r,hasThumbnailError:o,isHovered:i,isInSelectionMode:f,isSelectable:p,isSelected:x,onCheckboxChange:C,onOverlayClick:g,onOverlayKeydown:w,onPlayerError:y,onThumbnailError:k,playerRef:A,playerRefCallback:I,showStatus:T=!0,status:E,thumbnailSrc:M,title:Z,url:D}=e;const O=A.current,_=(0,b.sZ)(n.project.workspaceId),[R,F]=(0,c.useState)(!1);(0,c.useEffect)((()=>(O&&O.addEventListener("error",y),()=>{O&&O.removeEventListener("error",y)})),[O,A,y,i]);return(0,t.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] select-none relative z-0 p-2",style:{backgroundColor:null!=a?a:"none"},children:[T&&(0,t.jsx)(j,{source:v.AnimationStatusSource.ANIMATION_CARD_DROPDOWN,featureService:_,animationId:n.id,animationStatus:n.status,projectId:n.project.id,workspaceId:n.project.workspaceId,isSubMenu:!0,handleStatusSelectorChange:e=>{F(e)},dropdownOffset:8,customTrigger:(0,t.jsx)("div",{className:"absolute left-0 z-20 pl-2 cursor-pointer top-2",children:(0,t.jsx)(m.Z,{tag:"div",variant:"caption-1",children:i||R?(0,t.jsx)(S,{status:E}):(0,t.jsx)(S,{status:E,isCollapsed:!0})})})}),(0,t.jsx)(N,{hasFullAccess:s,isInSelectionMode:f,isSelectable:p,isSelected:x,onCheckboxChange:C,isHovered:i}),(0,t.jsx)("div",{onKeyDown:w,onClick:g,className:"absolute inset-0 z-10 cursor-pointer"}),(0,t.jsx)("div",{className:l()("mx-auto h-full",{hidden:!i&&M}),children:D&&!r?(0,t.jsx)(d.V,{autoplay:!1,loop:!0,src:D,playerRef:I}):(0,t.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,t.jsx)(u.p,{})})}),(0,t.jsx)("div",{className:l()("mx-auto h-full",{hidden:i||!M}),children:(0,t.jsx)(h.y,{src:M,onError:k,alt:Z,hasError:o})})]})},k=e=>{let{animation:n,backgroundColor:a=null,date:s,disableMenu:r=!1,onClick:o,onSelectionChange:i,project:u,scopes:d,selectable:h=!1,selected:m=!1,selectionMode:f=!1,showAddToCollection:v,showStatus:b=!0,showUpdatedUser:j=!0,status:S,thumbnail:N,title:k,upgradeRequired:A,url:I,username:T}=e;const[E,M]=(0,c.useState)(!1),{canFullAccess:Z}=(0,p.a)({scopes:d||[]}),[D,O]=(0,c.useState)(!1),[_,R]=(0,c.useState)(!1),[F,z]=(0,c.useState)(!1),L=(0,c.useRef)(null),U=(0,c.useCallback)((e=>{e&&(L.current=e)}),[]),P=(0,c.useCallback)((()=>{var e;null===(e=L.current)||void 0===e||e.play(),M(!0)}),[L,M]),K=(0,c.useCallback)((()=>{var e;null===(e=L.current)||void 0===e||e.pause(),M(!1)}),[L,M]),H=(0,c.useCallback)((()=>{i&&i()}),[i]),V=(0,c.useCallback)((()=>{O(!1)}),[]),W=(0,c.useCallback)((e=>{if(f&&i)i();else if(o){const n=C.Mq?e.metaKey:e.ctrlKey;o(n)}}),[i,o,f]),G=(0,c.useCallback)((e=>{if("Space"===e.key)if(f&&i)i();else if(o){const n=C.Mq?e.metaKey:e.ctrlKey;o(n)}}),[o,i,f]),B=(0,c.useCallback)((()=>{R(!0)}),[]),q=(0,c.useCallback)((()=>{z(!0)}),[]),Y=(0,c.useCallback)((()=>{Z()&&O(!0)}),[Z]),J=(0,x.h)(W,Y);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:l()("relative w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group hover:shadow-md",{"selected-card":m,"opacity-30":A}),onMouseEnter:P,onMouseLeave:K,children:(0,t.jsxs)("div",{className:"animation",children:[(0,t.jsx)(y,{animation:n,backgroundColor:a,hasFullAccess:Z(),isHovered:E,hasThumbnailError:_,hasPlayerError:F,isSelectable:h,isSelected:m,isInSelectionMode:f,showStatus:b,status:S,title:k,thumbnailSrc:N,url:I,playerRefCallback:U,playerRef:L,onCheckboxChange:H,onOverlayClick:W,onOverlayKeydown:G,onPlayerError:q,onThumbnailError:B}),(0,t.jsx)(w,{animation:n,isMenuDisabled:r,onTitleClick:J,projectName:u,showAddToCollection:Boolean(v),showUpdatedUser:j,title:k,updatedDate:s,username:T,showActionsMenu:E,showFilledIcon:E})]})}),(0,t.jsx)(g,{show:D,animationId:n.id,animationName:n.name,close:V})]})}},77708:function(e,n,a){a.r(n),a.d(n,{AnimationStatusSelector:function(){return v},AnimationStatusSource:function(){return t}});var t,s=a(97458),l=a(26766),r=a(62295),o=a(52983),c=a(80794),i=a(34605),u=a(29443),d=a(4474),h=a(2978),m=a(83671),f=a(48173);!function(e){e.ANIMATION_CARD_DROPDOWN="animation_card_dropdown",e.ANIMATION_DETAILS="animation_details",e.SELECTION_BAR="selection_bar"}(t||(t={}));const v=e=>{let{animationId:n,animationStatus:a,customTrigger:t,disabled:v=!1,dropdownOffset:p,featureService:x,handleStatusSelectorChange:b,isSubMenu:C=!1,projectId:g,source:j,workspaceId:w}=e;const[,S]=(0,c.Db)(i.v3),N=(0,f.p)(),y=(0,o.useMemo)((()=>m.W.map((e=>({...e,selected:!1})))),[]),k=(0,o.useCallback)((async e=>{(await S({id:n,status:e})).error||null==N||N.pushSuccess("Status updated"),(0,l.Z9)(new l.Yk({fileId:n,oldStatus:a,newStatus:e,projectId:g,workspaceId:w,source:j}))}),[S,n,a,g,w,N,j]),A=(0,o.useMemo)((()=>y.find((e=>e.value===a))||y[y.length-1]),[a,y]),I=(0,o.useMemo)((()=>t?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u.f.Trigger,{asChild:!0,children:t})}):(0,s.jsx)(s.Fragment,{children:C?(0,s.jsxs)(u.f.Trigger,{disabled:v,type:"menu-item",className:"disabled:opacity-30",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-6 h-6 mr-2 ",children:null==A?void 0:A.icon}),(0,s.jsx)("div",{className:"flex-grow text-sm",children:null==A?void 0:A.label}),!x.canUpdateAnimationStatus()&&(0,s.jsx)(h.y,{iconOnly:!0,className:"ml-2",source:r.Hh.UPDATE_ANIMATION_STATUS,workspaceId:w}),(0,s.jsx)("div",{className:"flex items-center text-gray-500",children:(0,s.jsx)(d.J,{name:"chevron-right"})})]}):(0,s.jsxs)(u.f.Trigger,{disabled:v,type:"text",className:"disabled:opacity-30",children:[(0,s.jsx)("div",{className:"mr-2",children:null==A?void 0:A.icon}),(0,s.jsx)("div",{className:"flex-grow text-sm",children:null==A?void 0:A.label}),!x.canUpdateAnimationStatus()&&(0,s.jsx)(h.y,{iconOnly:!0,className:"ml-2",source:r.Hh.UPDATE_ANIMATION_STATUS,workspaceId:w}),(0,s.jsx)("div",{className:"flex items-center text-gray-500",children:(0,s.jsx)(d.J,{name:"chevron-down-fill",small:!0,marginLeft:!0})})]})})),[t,C,v,null==A?void 0:A.icon,null==A?void 0:A.label,x,w]);return(0,s.jsxs)(u.f,{onOpenChange:b,children:[I,(0,s.jsx)(u.f.Content,{sideOffset:p||0,alignOffset:p||0,side:"bottom",align:"start",children:y.map((e=>(0,s.jsxs)(u.f.Item,{onSelect:async()=>{x.canUpdateAnimationStatus()?await k("NoStatus"===e.value?null:e.value):(0,h.Z)({source:r.Hh.UPDATE_ANIMATION_STATUS,workspaceId:w})},children:[(0,s.jsx)("span",{className:"mr-2",children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.value)))})]})};n.default=v},84101:function(e,n,a){a.d(n,{a:function(){return s}});var t=a(208);const s=e=>{let{scopes:n}=e;const a=()=>n.includes(t.GN.FULL_ACCESS),s=()=>a()||n.includes(t.GN.DOWNLOAD);return{canView:()=>a()||s()||n.includes(t.GN.VIEW),canFullAccess:a,canDownload:s}}},22512:function(e,n,a){a.d(n,{h:function(){return s}});var t=a(52983);const s=function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;const s=(0,t.useRef)(0),l=(0,t.useRef)(null);return(0,t.useEffect)((()=>()=>{null!==l&&(clearTimeout(l.current),l.current=null)}),[]),(0,t.useCallback)((t=>{if(null!==l.current&&(clearTimeout(l.current),l.current=null),s.current+=1,2===s.current)return n(t),void(s.current=0);l.current=setTimeout((()=>{e(t),s.current=0,l.current=null}),a)}),[e,n,a])}}}]);