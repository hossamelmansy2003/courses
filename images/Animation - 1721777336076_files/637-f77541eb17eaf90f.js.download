"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{10637:function(e,l,o){o.r(l),o.d(l,{GridView:function(){return _},default:function(){return E}});var s=o(97458),i=o(52983),n=o(89062),t=o(96734),a=o(62295),d=o(37210),c=o(83849),r=o.n(c),u=o(96921),h=o(67519),m=o(89762),p=o(37607);const v=(0,d.zo)("button",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:32,fontSize:14,fontWeight:700,padding:"4px 12px",borderRadius:8,backgroundColor:"#00C1A2",border:"none",color:"#FFF",cursor:"pointer",transition:"all 0.3s ease-in-out","&:hover":{backgroundColor:"#00C1A2"},"&:focus":{outline:"none"},"&:active":{backgroundColor:"#00C1A2"}}),C=e=>{let{workspaceId:l}=e;const o=(0,t.SS)(a.AD.FILE_UPLOAD_LIMIT),{onClick:n}=(0,m.Z)({workspaceId:l}),{planName:d}=(0,p.g)(l),[c,u]=(0,i.useState)(!1),h=(0,i.useCallback)((()=>{u(!0)}),[]),C=(0,i.useCallback)((()=>{u(!1)}),[]);return(0,s.jsx)("div",{onMouseEnter:h,onMouseLeave:C,className:r()({"absolute top-0 bottom-0 left-0 right-0 w-full h-full z-10 rounded-md":!0}),children:c&&(0,s.jsxs)("div",{className:"flex flex-col items-center h-full p-5 space-y-5 bg-white border rounded-md border-gray-50 bg-opacity-90",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700 line-clamp-5",children:["You can only access your ",o.value," most recently created files on your current ",d,". Upgrade to access all your files."]}),(0,s.jsx)(v,{onClick:n,children:"Upgrade"})]})})},f=e=>{let{animation:l,disableMenu:o,isSelected:i,onClick:n,onSelectionChange:t,selectable:a,selectionMode:d,showAddToCollection:c,showStatus:r=!0,showUpdatedUser:m,workspaceId:p}=e;var v,f,b,w,g,x,k;const j=(0,h.Q)(p);return(0,s.jsxs)("div",{className:"relative rounded-md",children:[j.length>0&&!j.includes(l.id)&&(0,s.jsx)(C,{workspaceId:l.project.workspaceId}),(0,s.jsx)(u.K,{scopes:l.animationPermissionScopes,animation:l,backgroundColor:l.backgroundColor,thumbnail:null===(w=l.fileObject)||void 0===w||null===(b=w.thumbnails)||void 0===b||null===(f=b.webp)||void 0===f||null===(v=f.medium)||void 0===v?void 0:v.url,title:l.name,url:null===(g=l.fileObject)||void 0===g?void 0:g.url,showUpdatedUser:m,username:l.modifiedBy?l.modifiedBy.name:null===(x=l.createdBy)||void 0===x?void 0:x.name,project:null===(k=l.project)||void 0===k?void 0:k.title,date:l.updatedAt,selectable:a,selected:i,onSelectionChange:t,selectionMode:d,showStatus:r,status:l.status,onClick:n,disableMenu:o,showAddToCollection:c,upgradeRequired:j.length>0&&!j.includes(l.id)})]})};var b=o(49183),w=o.n(b),g=o(43461),x=o(37727),k=o(37276),j=o(41415),y=o(84101),M=o(22512),S=o(83157);const N=w()((async()=>Promise.all([o.e(7255),o.e(1477),o.e(1127),o.e(1035),o.e(7443),o.e(7387),o.e(9006),o.e(5942),o.e(6469),o.e(3319),o.e(1340)]).then(o.bind(o,57943))),{loadableGenerated:{webpack:()=>[57943]},ssr:!1}),A=e=>{let{disableMenu:l=!1,file:o,isSelected:n=!1,onClick:t,onSelectionChange:a,selectable:d=!1,selectionMode:c=!1}=e;var u,h,m,p,v,C,f,b,w,A,I;const[L,B]=(0,i.useState)(!1),[U,F]=(0,i.useState)(!1),{canFullAccess:_}=(0,y.a)({scopes:o.animationPermissionScopes||[]}),E=(0,i.useCallback)((()=>{F(!1)}),[]),K=(0,i.useCallback)((()=>{a&&a()}),[a]),V=(0,i.useCallback)((()=>{B(!0)}),[B]),q=(0,i.useCallback)((()=>{B(!1)}),[B]),z=(0,i.useCallback)((()=>{_()&&F(!0)}),[_]),D=(0,i.useCallback)((e=>{if(c&&a)a();else if(t){const l=S.Mq?e.metaKey:e.ctrlKey;t(l)}}),[a,t,c]),H=(0,i.useCallback)((e=>{if("Space"===e.key)if(c&&a)a();else if(t){const l=S.Mq?e.metaKey:e.ctrlKey;t(l)}}),[t,a,c]),P=(0,M.h)(D,z);return(0,s.jsxs)("div",{className:"relative z-0 group w-full aspect-square",onMouseEnter:V,onMouseLeave:q,children:[(0,s.jsx)("svg",{className:r()("absolute inset-0 w-full h-full",{"creator-drop-shadow":L}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:(0,s.jsx)("path",{fill:"white",id:"Vector_2",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881",stroke:"rgba(217, 224, 230, 1)"})}),(0,s.jsxs)("div",{className:"absolute inset-0 h-full w-full",children:[(0,s.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,s.jsx)("div",{onKeyDown:H,onClick:D,className:"absolute inset-0 z-10 cursor-pointer"}),(0,s.jsx)("div",{className:"h-full p-4 -mx-2 border-b border-gray-50",children:(0,s.jsx)("div",{className:"h-full mx-auto transparency-grid-square",children:(0,s.jsx)(x.y,{src:(null===(p=o.fileObject)||void 0===p||null===(m=p.thumbnails)||void 0===m||null===(h=m.webp)||void 0===h||null===(u=h.medium)||void 0===u?void 0:u.url)||(null===(b=o.fileObject)||void 0===b||null===(f=b.thumbnails)||void 0===f||null===(C=f.png)||void 0===C||null===(v=C.medium)||void 0===v?void 0:v.url)})})})]}),(0,s.jsx)(N,{showActionsMenu:L,animation:o,isMenuDisabled:l,onTitleClick:P,showFilledIcon:L,projectName:null===(w=o.project)||void 0===w?void 0:w.title,showAddToCollection:!1,title:o.name,updatedDate:o.updatedAt,showUpdatedUser:!0,username:o.modifiedBy?"".concat(null===(A=o.modifiedBy)||void 0===A?void 0:A.firstName):"".concat(null===(I=o.createdBy)||void 0===I?void 0:I.firstName)})]}),(0,s.jsxs)("svg",{className:r()("absolute inset-0 w-full h-full pointer-events-none",{"text-actionPrimary":n,"text-gray-100":!n}),xmlns:"http://www.w3.org/2000/svg",width:"210",height:"210",viewBox:"0 0 210 210",fill:"none",children:[(0,s.jsxs)("g",{"clip-path":"url(#clip0_5690_42434)",children:[(0,s.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",fill:"white"}),(0,s.jsx)("path",{d:"M173.182 1.03418L173.213 24.1133C173.213 30.9043 178.719 36.4103 185.51 36.4103H208.84",stroke:"rgba(217, 224, 230, 1)"}),n?(0,s.jsx)("path",{d:"M190.5 19.5C190.5 19.5 174.067 2 172.5 2L6.99945 1.5C1.50057 1.5 1.50002 1.5 1.50002 6.79112L1.5 201.5C1.5 208.5 1.5 208.5 7 208.5H203C208.5 208.5 208.5 208.5 208.5 203.137V39.9853C208.5 38.394 207.868 36.8679 206.743 35.7426L190.5 19.5Z",stroke:"currentColor","stroke-width":"3"}):(0,s.jsx)("path",{fill:"none",stroke:"currentColor",d:"M190.984 18.3777C173.641 1.0344 173.944 0.522461 172.377 0.522461H6.79014C3.33193 0.522461 0.521484 3.33291 0.521484 6.79112V203.209C0.521484 206.667 3.33193 209.478 6.79014 209.478H203.208C206.666 209.478 209.477 206.667 209.477 203.209V37.6225C209.477 35.721 208.662 36.0553 190.995 18.3881"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_5690_42434",children:(0,s.jsx)("rect",{width:"210",height:"210",fill:"white"})})})]}),(0,s.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2 right-0",children:(0,s.jsx)(k.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(L&&d||n||c)&&_()&&(0,s.jsx)(j.X,{label:"check-card",checked:n,onChange:K})})}),(0,s.jsx)(g.default,{show:U,animationId:o.id,animationName:o.name,close:E})]})};var I=o(6552),L=o(3418),B=o(2142),U=o(98507),F=o(208);const _=e=>{let{canLoadMore:l=!1,files:o,isLoadingMore:t=!1,onLoadMore:a=(()=>{}),onSelectionChange:d,onFolderDownloadAllClick:c,selectable:r=!1,selectedAnimations:u,selectionMode:h,showUpdatedUser:m=!0,showAddToCollection:p=!1,showStatus:v=!0,onItemClick:C,workspaceId:b}=e;const w=(0,n.useRecoilValue)(U.Y),g=(0,B.S)({onIntersecting:a}),x=(0,i.useCallback)((e=>()=>{d&&d(e.id)}),[d]),k=(0,i.useCallback)((e=>l=>C(e,l)),[C]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6 lg:grid-cols-3 xl:grid-cols-4 xxl:grid-cols-5 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[o.map((e=>{const l="file-card-".concat(e.id);var o,i;return(0,F.qR)(e)?(0,s.jsx)(L.A,{onClick:k(e),title:e.name,username:(null===(o=e.modifiedBy)||void 0===o?void 0:o.name)||(null===(i=e.createdBy)||void 0===i?void 0:i.name),date:e.updatedAt,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes,onDownloadAllClick:c,selectable:r,selectionMode:h,onSelectionChange:x(e),isSelected:!!u&&Boolean(u.some((l=>l.id===e.id)))},l):(0,F.QR)(e)?(0,s.jsx)(f,{animation:e,showUpdatedUser:m,showStatus:v,selectable:r,isSelected:!!u&&Boolean(u.some((l=>l.id===e.id))),onSelectionChange:x(e),selectionMode:h,onClick:k(e),disableMenu:w>0,showAddToCollection:p,workspaceId:b},l):(0,F.xK)(e)?(0,s.jsx)(A,{file:e,onClick:k(e),selectable:r,onSelectionChange:x(e),isSelected:!!u&&Boolean(u.includes(e)),disableMenu:w>0,selectionMode:h}):(0,s.jsx)(s.Fragment,{})})),t&&(0,s.jsx)(I.a,{type:"spinner"})]}),l&&!t&&(0,s.jsx)("span",{ref:g})]})};var E=_},67519:function(e,l,o){o.d(l,{Q:function(){return c}});var s=o(52983),i=o(80794),n=o(54742),t=o(34605),a=o(64747),d=o(83157);const c=e=>{const l=(0,n.hp)(e),o=(0,d.fK)(l),[c]=(0,i.aM)({query:t.Z$,pause:!e||!l||!o||o!==a.Q.FREE,variables:{workspaceId:e}});return(0,s.useMemo)((()=>{var e;return o===a.Q.FREE&&(null===(e=c.data)||void 0===e?void 0:e.fileIdsWithinLimit)||[]}),[c,o])}}}]);