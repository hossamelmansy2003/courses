"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5562,9189,7184],{88223:function(e,n,t){t.d(n,{o:function(){return i}});var o=t(97458),r=t(52983),a=t(89062),l=t(35240),s=t(6552);const i=r.forwardRef(((e,n)=>{let{children:t,contentWrapperCssClasses:r="flex-grow overflow-hidden",headerControl:i,headerWrapperCssClasses:c="bg-white h-16 flex items-center px-6 border-b border-gray-100 flex-shrink-0",id:d}=e;const u=(0,a.useRecoilValue)(l.qx);return(0,o.jsxs)("div",{id:d,ref:n,"data-onboarding-watch":"create_menu_new_button",className:"absolute inset-0 flex flex-col w-full overflow-y-auto",children:[i&&(0,o.jsx)("div",{className:c,children:i}),u?(0,o.jsx)(s.a,{size:"lg"}):(0,o.jsx)("div",{className:r,children:t})]})}));i.displayName="PageScaffold"},69091:function(e,n,t){t.d(n,{s:function(){return s}});var o=t(97458),r=(t(52983),t(89062)),a=t(59111),l=t(43807);const s=()=>{const[e,n]=(0,r.useRecoilState)(a.Hw);return(0,o.jsx)(l.n,{icon:"bounding-box",title:"Bounding box",onClick:()=>{n(!e)},iconColorClass:e?"text-actionPrimary":"text-gray-600"})}},52484:function(e,n,t){t.d(n,{A:function(){return h},J:function(){return x}});var o=t(97458),r=t(26766),a=t(52983),l=t(80521),s=t(37210),i=t(83157);const c=(0,s.zo)(l.VY,{minWidth:"180px",boxShadow:"0px 0px 1px 0px rgba(61, 72, 83, 0.36), 0px 2px 8px 0px rgba(61, 72, 83, 0.10), 0px 8px 48px 0px rgba(243, 246, 248, 0.15)"}),d=(0,s.zo)(l.ck,{"&[data-highlighted]":{borderBottom:0,borderTop:0,inset:0}}),u=(0,a.forwardRef)(((e,n)=>{let{children:t,...r}=e;return(0,o.jsx)(d,{className:"flex flex-row items-start justify-between px-2 py-1 text-xs rounded outline-none hover:cursor-pointer hover:bg-gray-50",...r,ref:n,children:t})}));u.displayName="ContextMenuItem";const f=(0,a.forwardRef)(((e,n)=>{let{children:t,...r}=e;return(0,o.jsx)(c,{className:"overflow-hidden bg-white rounded-lg",...r,ref:n,children:t})}));f.displayName="ContextMenuContent";const m=(0,a.forwardRef)(((e,n)=>{let{...t}=e;return(0,o.jsx)(l.Z0,{className:"border-t border-gray-100",...t,ref:n})}));m.displayName="ContextMenuSeparator";const p=(0,a.forwardRef)(((e,n)=>{let{children:t,...r}=e;return(0,o.jsx)(l.ZA,{className:"flex flex-col px-2 py-2 gap-y-1",...r,ref:n,children:t})}));var h;p.displayName="ContextMenuGroup",function(e){e.PNG="png",e.SVG="svg"}(h||(h={}));const v=()=>{(0,r.Z9)(new r.Rd("button","open in lottie creator","animation-player-context-menu"))},x=e=>{let{children:n,fileId:t,isAnnotatingComment:s,onAddCommentClick:c,onContextMenuOpen:d,onCopyFrameClick:h,onCopyLinkClick:x}=e;const[b,g]=a.useState(null),w=(0,a.useMemo)((()=>{if(t){const e=new URL("https://creator.lottiefiles.com");return e.searchParams.append("fileId",t),e.searchParams.append("utm_medium","platform"),e.searchParams.append("utm_source","animation-player-context-menu"),e.toString()}return""}),[t]),C=e=>{(0,r.Z9)(new r.tf({format:e,source:"animation-player-context-menu"})),h(e)};return(0,o.jsxs)(l.fC,{children:[(0,o.jsx)(l.xz,{onContextMenu:e=>{g(e),d()},children:n}),(0,o.jsx)(l.Uv,{children:(0,o.jsxs)(f,{children:[(0,o.jsx)(p,{children:(0,o.jsxs)(u,{onSelect:()=>{x("animation-player-context-menu")},children:[(0,o.jsx)("span",{children:"Copy animation link"}),i.Mq&&(0,o.jsx)("span",{className:"text-gray-400",children:"⌘ L"})]})}),(0,o.jsx)(m,{}),!s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p,{children:(0,o.jsxs)(u,{onSelect:()=>{b&&((0,r.Z9)(new r.i$({source:"animation-player-context-menu"})),c(b))},children:[(0,o.jsx)("span",{children:"Add comment"}),(0,o.jsx)("span",{className:"text-gray-400",children:"C"})]})}),(0,o.jsx)(m,{})]}),(0,o.jsxs)(p,{children:[(0,o.jsx)(u,{onSelect:()=>C("svg"),children:"Copy frame as SVG"}),(0,o.jsx)(u,{onSelect:()=>C("png"),children:"Copy frame as PNG"})]}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{}),(0,o.jsx)(p,{children:(0,o.jsx)(u,{children:(0,o.jsx)("a",{href:w,onClick:v,target:"_blank",rel:"noreferrer",children:"Open in Lottie Creator"})})})]})]})})]})}},87184:function(e,n,t){t.d(n,{s:function(){return s}});var o=t(97458),r=t(52983),a=t(57878),l=t(80727);const s=e=>{let{body:n,buttonTitle:t,cancelTitle:s="Cancel",closeCallback:i=(()=>null),confirmLoading:c=!1,isDestructive:d=!0,onConfirm:u,showModal:f,title:m,zIndexClassName:p="z-50"}=e;const h=(0,r.useCallback)((()=>{u()}),[u]),v=(0,r.useCallback)((e=>{i(e)}),[i]);return(0,o.jsx)(l.ModalV2,{show:f,title:m,paddingSize:"md",zIndexClassName:p,closeCallback:v,children:(0,o.jsxs)("div",{className:"mt-6 space-y-10",children:[(0,o.jsx)("p",{className:"text-sm text-gray-900",children:n}),(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,o.jsx)(a.z,{variant:"ghost",onClick:()=>v(l.CloseSource.CANCEL_BUTTON),fluid:!0,children:s}),(0,o.jsx)(a.z,{disabled:c,showLoader:c,color:d?"red":"teal",onClick:h,fluid:!0,children:t})]})]})})};n.Z=s},45506:function(e,n,t){t.d(n,{p:function(){return a}});var o=t(79120),r=t(52983);const a=e=>{let{color:n}=e;return(0,r.useMemo)((()=>{try{return(0,o.H3)(n)>=.5}catch(e){return!1}}),[n])}},55562:function(e,n,t){t.r(n),t.d(n,{default:function(){return Oe}});var o,r,a=t(97458),l=t(96734),s=t(9491),i=t(26766),c=t(62295),d=t(83849),u=t.n(d),f=t(79120),m=t(77179),p=t.n(m),h=t(38397),v=t(49183),x=t.n(v),b=t(56010),g=t.n(b),w=t(52983),C=t(75296),y=t(89062),E=t(80794),k=t(45435),S=t(88223),j=t(69091),N=t(81253),O=t(87864),I=t(80727),M=t(18447),T=t(43807),A=t(87184),L=t(48173),R=t(10919),F=t(84101),P=t(7940),_=t(60787),q=t(92986),D=t(16475),G=t(45506),U=t(36514),B=t(28640),V=t(8451),z=t(73908),Z=t(54742),W=t(34605),K=t(3885),H=t(89866),Q=t(59111),Y=t(85891),J=t(35240),X=t(21311),$=t(71872),ee=t(8681),ne=t(78810),te=t(11780),oe=t(52484),re=t(40888),ae=t(58587);!function(e){e.Error="error",e.Input="input",e.Output="output"}(o||(o={})),function(e){e.PNG="png",e.SVG="svg"}(r||(r={}));var le=t(97769),se=t(50411);const ie=async(e,n)=>{try{const t=new ClipboardItem({[n]:Promise.resolve(e())});return await navigator.clipboard.write([t]),!0}catch(e){return!1}};var ce=t(77663),de=t(26888),ue=t(30085);const fe=x()((async()=>t.e(5137).then(t.bind(t,8002))),{loadableGenerated:{webpack:()=>[8002]},ssr:!1}),me=x()((async()=>Promise.all([t.e(1487),t.e(1127),t.e(2506)]).then(t.bind(t,2506))),{loadableGenerated:{webpack:()=>[2506]},ssr:!1}),pe=x()((async()=>t.e(3454).then(t.bind(t,53454))),{loadableGenerated:{webpack:()=>[53454]},ssr:!1}),he=x()((async()=>Promise.all([t.e(3551),t.e(8298)]).then(t.bind(t,68298))),{loadableGenerated:{webpack:()=>[68298]},ssr:!1}),ve=x()((async()=>Promise.all([t.e(467),t.e(8693)]).then(t.bind(t,58693))),{loadableGenerated:{webpack:()=>[58693]},ssr:!1}),xe=x()((async()=>t.e(1874).then(t.bind(t,91874))),{loadableGenerated:{webpack:()=>[91874]},ssr:!1}),be=x()((async()=>t.e(1037).then(t.bind(t,81037))),{loadableGenerated:{webpack:()=>[81037]},ssr:!1}),ge=x()((async()=>t.e(4079).then(t.bind(t,34079))),{loadableGenerated:{webpack:()=>[34079]},ssr:!1}),we=x()((async()=>Promise.all([t.e(7713),t.e(5858),t.e(5643)]).then(t.bind(t,5643))),{loadableGenerated:{webpack:()=>[5643]},ssr:!1}),Ce=x()((async()=>Promise.all([t.e(243),t.e(2410),t.e(9229),t.e(4270),t.e(9953),t.e(5627),t.e(8596),t.e(4382),t.e(3171)]).then(t.bind(t,53171))),{loadableGenerated:{webpack:()=>[53171]},ssr:!1}),ye=x()((async()=>Promise.resolve().then(t.bind(t,57851))),{loadableGenerated:{webpack:()=>[57851]},ssr:!1}),Ee=x()((async()=>t.e(957).then(t.bind(t,40957))),{loadableGenerated:{webpack:()=>[40957]},ssr:!1}),ke=x()((async()=>Promise.all([t.e(4588),t.e(70),t.e(2703)]).then(t.bind(t,52703))),{loadableGenerated:{webpack:()=>[52703]},ssr:!1}),Se=x()((async()=>Promise.all([t.e(1757),t.e(6830)]).then(t.bind(t,1757))),{loadableGenerated:{webpack:()=>[1757]},ssr:!1}),je=x()((async()=>Promise.all([t.e(467),t.e(1477),t.e(3551),t.e(1127),t.e(1035),t.e(7387),t.e(5942),t.e(5569)]).then(t.bind(t,65569))),{loadableGenerated:{webpack:()=>[65569]},ssr:!1}),Ne=()=>{var e,n,r,d,m,v,x,b,k,Ne,Oe,Ie,Me,Te,Ae,Le,Re,Fe,Pe;const[_e,qe]=(0,w.useState)(),[De,Ge]=(0,y.useRecoilState)(Q.sI),[Ue,Be]=(0,w.useState)(),[Ve,ze]=(0,w.useState)(),Ze=(0,y.useSetRecoilState)(J.E4),We=(0,y.useSetRecoilState)(Q.GG),[Ke,He]=(0,w.useState)(null),[Qe,Ye]=(0,w.useState)(null),[Je,Xe]=(0,w.useState)(!1),$e=(0,y.useResetRecoilState)(Q.h3),en=(0,y.useResetRecoilState)(Q.m9),nn=(0,y.useResetRecoilState)(Q.lS),tn=(0,y.useSetRecoilState)(X.QJ),[on,rn]=(0,w.useState)(!1),an=(0,w.useRef)(!1),ln=(0,w.useRef)(!1),sn=(0,y.useSetRecoilState)(J.qx),[cn,dn]=(0,w.useState)(),[un,fn]=(0,w.useState)(!1),[mn,pn]=(0,w.useState)(!1),[hn,vn]=(0,w.useState)(""),[xn,bn]=(0,w.useState)($.s.NONE),[gn,wn]=(0,w.useState)(!1),Cn=(0,w.useRef)(null),yn=/^((?!chrome|android).)*safari/iu.test(navigator.userAgent),[En,kn]=(0,w.useState)(!1),[Sn,jn]=(0,w.useState)(),[Nn,On]=(0,w.useState)(null),[In,Mn]=(0,w.useState)(null),Tn=(0,l.SS)(c.AD.ENABLE_ANIMATION_PLAYER_CONTEXT_MENU),[An,Ln]=(0,w.useState)(null),Rn=(0,w.useRef)(!1),Fn=(0,L.p)(),Pn=(0,h.useRouter)(),{frame:_n,sort:qn}=Pn.query,{done:Dn,isLoaded:Gn,setWelcomeText:Un,showChecklist:Bn,showFirstPendingTask:Vn,state:zn}=(0,V.d)(),{handback_id:Zn,id:Wn}=Pn.query,Kn=(0,P.a)(),{activeWorkspaceId:Hn,setActiveWorkspace:Qn,workspaces:Yn}=(0,Z.cF)(),Jn=(0,l.SS)(c.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),Xn=(0,l.SS)(c.AD.ENABLE_SIDEBAR_REDESIGN).on,[$n]=(0,E.aM)({query:W.wP,variables:{id:Wn},pause:!Wn}),[et]=(0,E.aM)({query:W.xQ,variables:{id:Wn,sort:qn,folderId:null===(n=$n.data)||void 0===n||null===(e=n.file.folder)||void 0===e?void 0:e.id},pause:!Wn||!$n.data||!Jn.on}),[nt]=(0,E.aM)({query:se.P7,variables:{resourceId:null==De?void 0:De.id,resourceType:le.f.FILE},pause:!Tn.value}),tt=(0,w.useMemo)((()=>{var e;const n="https://app.lottiefiles.com",t=null===(e=nt.data)||void 0===e?void 0:e.publicShare,o="".concat(n,"/animation/").concat(null==De?void 0:De.id);return t?"".concat(n,"/share/").concat(null==t?void 0:t.shareCode):o}),[null==De?void 0:De.id,null===(r=nt.data)||void 0===r?void 0:r.publicShare]),[ot,rt]=(0,D.w)(),[at]=(0,B._)("animation_sidebar_panel_state",{}),lt=(0,w.useCallback)((e=>{e?(He(p()(e)),Ln(p()(e))):(He(null),Ln(null))}),[]);(0,U.Z)({key:"k",action:()=>{var e;if(!Jn.off)if(null===(e=et.data)||void 0===e?void 0:e.fileAboveAndBelowId.nextAnimation)Pn.query.id=et.data.fileAboveAndBelowId.nextAnimation,Pn.push({pathname:Pn.pathname,query:Pn.query}),ln.current=!1;else if(!an.current){const e=(0,a.jsx)("div",{children:"No more animations to go to"});null==Fn||Fn.pushCustom(e,1e3,"!bg-gray-900","text-white"),an.current=!0}},dependencies:[et,Jn.off],takesPrecedence:!0}),(0,U.Z)({key:"j",action:()=>{var e;if(!Jn.off)if(null===(e=et.data)||void 0===e?void 0:e.fileAboveAndBelowId.prevAnimation)Pn.query.id=et.data.fileAboveAndBelowId.prevAnimation,Pn.push({pathname:Pn.pathname,query:Pn.query}),an.current=!1;else if(!ln.current){const e=(0,a.jsx)("div",{children:"No more animations to go to"});null==Fn||Fn.pushCustom(e,1e3,"!bg-gray-900","text-white"),ln.current=!0}},dependencies:[et,Jn.off],takesPrecedence:!0}),(0,w.useEffect)((()=>{if(et.data&&et.data.fileAboveAndBelowId.nextAnimation&&!Rn.current&&Jn.on){var e;const n="next-prev-toast-".concat(null===(e=Kn.user)||void 0===e?void 0:e.id),t=localStorage.getItem(n),o=(new Date).getTime();if(!t||o-parseInt(t,10)>12096e5){localStorage.setItem(n,o.toString());const e=(0,a.jsxs)("div",{children:["Use the ",(0,a.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"J"})," and"," ",(0,a.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"K"})," keys to go to the next or previous animation"]});null==Fn||Fn.pushCustom(e,3e3,"!bg-gray-900","text-white")}Rn.current=!0}}),[Fn,Jn.on,null===(d=Kn.user)||void 0===d?void 0:d.id,et.data]),(0,w.useEffect)((()=>{if($n.data){var e,n;const o=null===(e=$n.data.file.folder)||void 0===e?void 0:e.id,r=null===(n=$n.data.file.folder)||void 0===n?void 0:n.name,a=$n.data.file.project.id,l=$n.data.file.project.title;var t;const s=null!==(t=$n.data.file.project.isPrivate)&&void 0!==t&&t,i=$n.data.file.project.workspaceId,c=Yn.some((e=>{let{id:n}=e;var t;return n===(null===(t=$n.data)||void 0===t?void 0:t.file.project.workspaceId)}));i&&c&&i!==Hn&&Qn(i,!1),tn({type:o?"folder":"project",name:o?r:l,folderId:o,folderName:r,projectId:a,projectTitle:l,isPrivate:s,workspaceId:i})}}),[$n.data,tn,Hn,Qn,Yn]);const[st,it]=(0,w.useState)(""),[ct]=(0,y.useRecoilState)(Q.h3),{canDownload:dt,canFullAccess:ut,canView:ft}=(0,F.a)({scopes:(null==De?void 0:De.animationPermissionScopes)||[]}),[mt,pt]=(0,w.useState)({id:"",showDescOnCollection:!1,description:"",descriptionModifiedBy:null});(0,w.useEffect)((()=>{var e;if(($e(),en(),$n.fetching&&sn(!0),!$n.fetching)&&(sn(!1),ot===$.s.NONE&&window.innerWidth>768))if(at&&(null===(e=Kn.user)||void 0===e?void 0:e.id)&&at[Kn.user.id]){const e=at[Kn.user.id];e===$.s.LOTTIE_MOCKUP&&rt($.s.SEGMENT_MOCKUP),rt(e)}else rt($.s.DOWNLOAD);return()=>{}}),[$n]);const ht=(0,w.useCallback)((e=>{try{void 0!==(0,f.H3)(e)&&it(e)}catch(e){it("")}}),[]);(0,w.useEffect)((()=>{var e,n;if(null==ct?void 0:ct.fileObject){qe(ct.fileObject.url),Be(ct.fileObject.metadata),ze(ct.fileObject.attributes),Ye(ct.fileObject),dn(ct.tags),ht(ct.backgroundColor);const e=ct.fileObject.url,n=e.substring(e.lastIndexOf("/")+1,e.indexOf("?")).split(".").pop();We("lottie"===n)}else if((null===(e=$n.data)||void 0===e?void 0:e.file)&&!$n.fetching){var t;qe($n.data.file.fileObject.url),Ge($n.data.file),Ze({type:"project",id:$n.data.file.project.id}),Be($n.data.file.fileObject.metadata),ze($n.data.file.fileObject.attributes),Ye($n.data.file.fileObject),dn($n.data.file.currentVersion.tags),pt({id:$n.data.file.id,showDescOnCollection:$n.data.file.showDescOnCollection,description:$n.data.file.description,descriptionUpdatedAt:null===(t=$n.data.file)||void 0===t?void 0:t.descriptionUpdatedAt,descriptionModifiedBy:$n.data.file.descriptionModifiedBy}),ht($n.data.file.backgroundColor);const e=$n.data.file.fileObject.url,n=e.substring(e.lastIndexOf("/")+1,e.indexOf("?")).split(".").pop();We("lottie"===n)}else $n.error&&(0,te.w)($n.error);if(null===(n=$n.data)||void 0===n?void 0:n.file.upgradeRequired)throw new R.K}),[$n,ct,We,Ge,Ze,ht]),(0,w.useEffect)((()=>{var e;(null===(e=$n.data)||void 0===e?void 0:e.file.id)&&(0,i.Z9)(new i.Aj({fileId:$n.data.file.id,projectId:$n.data.file.project.id,workspaceId:$n.data.file.project.workspaceId,url:window.location.href}))}),[null===(m=$n.data)||void 0===m?void 0:m.file.id,null===(v=$n.data)||void 0===v?void 0:v.file.project.id,null===(x=$n.data)||void 0===x?void 0:x.file.project.workspaceId]);const[vt,xt]=(0,w.useState)(!1),[bt,gt]=(0,w.useState)(!1),wt=(0,C.r)(),[,Ct]=(0,y.useRecoilState)(Y.YC),yt=(0,w.useCallback)((()=>{Pn.query.comment&&(delete Pn.query.comment,Pn.push({pathname:Pn.pathname,query:Pn.query},void 0,{shallow:!0}))}),[Pn]),Et=(0,w.useCallback)((()=>{if(ot===$.s.SEGMENT_MOCKUP&&un)return pn(!0),void bn($.s.NONE);rt($.s.NONE),Pn.query.panel&&(delete Pn.query.panel,Pn.push({pathname:Pn.pathname,query:Pn.query},void 0,{shallow:!0}))}),[ot,un,Pn,rt]),kt=(0,w.useCallback)((e=>()=>{if(ot===e)Et();else{if(ot===$.s.SEGMENT_MOCKUP&&un)return pn(!0),void bn(e);rt(e),Pn.query.panel!==e&&(Pn.query.panel=e,Pn.push({pathname:Pn.pathname,query:Pn.query},void 0,{shallow:!0}))}}),[Et,ot,un,Pn,rt]);(0,w.useEffect)((()=>{Ct(""),rn(!1),lt(null),yt()}),[ot,Ct,rn,yt,lt]),(0,U.Z)({key:"c",action:()=>{ot!==$.s.COMMENTS?kt($.s.COMMENTS)():ot===$.s.COMMENTS&&Et()},dependencies:[kt,Et,ot]});const[St]=(0,E.aM)({query:K.g,variables:{id:Zn},pause:!Zn});(0,w.useEffect)((()=>{$n.data&&De&&(ot!==$.s.COMMENTS&&Pn.query.comment&&(kt($.s.COMMENTS)(),Pn.push({pathname:Pn.pathname,query:Pn.query},void 0,{shallow:!0})),dt()||ot!==$.s.DOWNLOAD||kt($.s.COMMENTS)(),dt()||ot!==$.s.EMBED||kt($.s.COMMENTS)(),Pn.query.edit_description&&(ot!==$.s.FILE_INFO&&kt($.s.FILE_INFO)(),rn(!0),delete Pn.query.edit_description,Pn.replace({pathname:Pn.pathname,query:Pn.query},void 0,{shallow:!0})))}),[De,ot,Pn,kt,on,dt,$n.data]);const jt=(0,w.useCallback)((()=>{if(un&&!vt)return pn(!0),void wn(!0);vt?(xt(!1),wt.exit()):(xt(!0),Et(),wt.enter())}),[Et,vt,wt,un]),Nt=(0,w.useCallback)(((e,n)=>{n===wt&&xt(!!e)}),[wt]);(0,w.useEffect)((()=>{var e;De&&("color-palette"!==Pn.query.from||(null===(e=zn.tasks[ne.X.CUSTOMIZE_COLOR])||void 0===e?void 0:e.done)||(Dn(ne.X.CUSTOMIZE_COLOR),console.log("Show checklist 1!"),Bn(!0)),"download"===Pn.query.from||"embed"===Pn.query.from||!Gn||zn.seen||zn.show||(Un(zn.newToOnboarding?"Welcome! Learn all about our platform’s most helpful features with this checklist ✨":"Level up your motion design game by exploring our platform’s most helpful features in this checklist ✨"),console.log("Show checklist 2!",Gn,zn.seen,zn.show),Bn(!0),Vn()))}),[De,zn,Dn]);const Ot=(0,w.useCallback)((()=>{gt(!bt)}),[bt,gt]),It=(0,w.useRef)(null),Mt=(0,w.useMemo)((()=>(null==ct?void 0:ct.id)||(null==De?void 0:De.currentVersionId)||""),[null==ct?void 0:ct.id,null==De?void 0:De.currentVersionId]),Tt=(0,w.useMemo)((()=>{var e,n;return{entityId:Mt,entityGroupId:(null==De?void 0:De.id)||Wn,isEnabled:!(null==ct?void 0:ct.id)||ct.id===(null==De?void 0:De.currentVersionId),workspaceId:(null==De||null===(n=De.project)||void 0===n||null===(e=n.workspace)||void 0===e?void 0:e.id)||""}}),[Mt,null==ct?void 0:ct.id,null==De?void 0:De.currentVersionId,null==De?void 0:De.id,null==De||null===(k=De.project)||void 0===k||null===(b=k.workspace)||void 0===b?void 0:b.id,Wn]),At=(0,_.X0)(Tt),Lt=(0,_.us)(Tt),Rt=(0,_.es)(Tt),Ft=(0,_.VP)(Tt),Pt=(0,_.UR)(Tt),_t=(0,_.OL)(Tt),qt=(0,_._i)(Tt),{canFetchMoreComments:Dt,commentsQuery:Gt,onFetchMoreComments:Ut,onHideReplies:Bt,onShowReplies:Vt,parentComment:zt,pushoverMode:Zt}=(0,q.M)({entityId:ot===$.s.COMMENTS?Mt:"",entityType:ee.TY.FileVersion});(0,w.useEffect)((()=>{_n&&Bt(null)}),[_n,Bt]);const Wt=(0,G.p)({color:st||"#f8fafc"}),[Kt]=(0,E.aM)({query:H.mT,variables:{id:Wn},pause:!Wn||ot!==$.s.COMMENTS}),[Ht,Qt]=(0,w.useState)(!1),Yt=(0,w.useCallback)((()=>Qt(!0)),[]),Jt=(0,w.useCallback)((()=>Qt(!1)),[]),Xt=(0,w.useCallback)((()=>{const e=new i.Rd("button","discard changes","unsaved segment changes modal");return gn?(fn(!1),wn(!1),xt(!0),rt($.s.NONE),void wt.enter()):((0,i.Z9)(e),hn?(fn(!1),void Pn.push(hn)):(fn(!1),rt(xn),void bn($.s.NONE)))}),[wt,Pn,rt,gn,xn,hn]);(0,w.useEffect)((()=>{Jt()}),[Zt,Jt]),(0,w.useEffect)((()=>{const e=e=>{if(un&&!mn)throw Pn.events.emit("routeChangeError"),pn(!0),vn(e),"Abort route change. Please ignore this error.";mn&&pn(!1)};return Pn.events.on("routeChangeStart",e),()=>{Pn.events.off("routeChangeStart",e)}}),[un,Pn.events,mn]);const $t=(0,w.useCallback)((async e=>{await navigator.clipboard.writeText(tt),(0,i.Z9)(new i.wk({source:e,subject:"animation",variant:tt.includes("share")?"public-share":"direct"})),null==Fn||Fn.pushCustom("Animation link copied",2500,"!bg-gray-900","text-white")}),[tt,Fn]),eo=(0,w.useCallback)((()=>{kn(!1),On(null),Mn(null),jn(void 0)}),[]),no=(0,w.useCallback)((async()=>{if(!Nn||!In||!Sn)return;if(await ie((async()=>Nn),In)){const e=Sn===oe.A.SVG?"SVG frame copied":"PNG frame copied";null==Fn||Fn.pushCustom(e,2500,"!bg-gray-900","text-white")}eo()}),[Nn,In,Sn,eo,Fn]),to=(0,w.useCallback)((async e=>{let{format:n,frame:r,height:a,width:l}=e;var s;if(!_e)return;let i={};const c=(e=>{switch(e){case"text/plain":case"image/svg+xml":return"text/plain";case"image/png":return"image/png";default:throw new Error("Invalid content type")}})(n===oe.A.SVG?"image/svg+xml":"image/png");if(An)i=An;else{const e=await(0,re.tr)(_e);if(!e)return void(null==Fn||Fn.pushError("Failed "));i=e}const d=(await t.e(7255).then(t.t.bind(t,53409,23))).default.loadAnimation({container:Cn.current,renderer:"svg",loop:!1,autoplay:!1,animationData:i});d.pause(),d.goToAndStop(r,!0);const u=(null===(s=Cn.current)||void 0===s?void 0:s.firstChild).cloneNode(!0),f=Array.from(u.getElementsByTagName("image")),m=st;u.style.backgroundColor=!bt&&m?m:"transparent",u.setAttribute("width","".concat(l)),u.setAttribute("height","".concat(a)),(0,ae.jn)(u),f.forEach(ae.O6);const p=(new XMLSerializer).serializeToString(u);if(n===oe.A.SVG)if(yn)Mn(c),jn(n),On(new Blob([p],{type:c})),kn(!0);else{await ie((async()=>new Blob([p],{type:c})),c)&&(null==Fn||Fn.pushCustom("SVG frame copied",2500,"!bg-gray-900","text-white"))}else{const e=new Worker(t.tu(new URL(t.p+t.u(7731),t.b)));e.onmessage=async t=>{if(t.data.type===o.Error);else if(t.data.type===o.Output){const e=t.data.buffer;if(yn)Mn(c),jn(n),On(new Blob([e],{type:c})),kn(!0);else{await ie((async()=>new Blob([e],{type:c})),c)&&(null==Fn||Fn.pushCustom("PNG frame copied",2500,"!bg-gray-900","text-white"))}}e.terminate()},e.postMessage({type:o.Input,svg:p,width:l,height:a,backgroundColor:bt?"transparent":m})}d.destroy()}),[st,An,yn,Fn,bt,_e]);(0,U.Z)({disabled:!Tn.value,key:"l",takesPrecedence:!0,metaKeyRequired:!0,action:()=>{$t("keypress")},dependencies:[$t]});const oo=(0,w.useCallback)((e=>()=>{if(ot!==e){if(ot===$.s.SEGMENT_MOCKUP&&un)return pn(!0),void bn(e);(0,i.Z9)(new i.lF({location:e})),kt(e)()}}),[ot,un,kt]),ro=(0,w.useCallback)((e=>{const n=e===I.CloseSource.GENERIC?"cross":"stay on page",t=new i.Rd("button",n,"unsaved segment changes modal");e===I.CloseSource.GENERIC&&(0,i.Z9)(t),e===I.CloseSource.CANCEL_BUTTON&&(0,i.Z9)(t),pn(!1)}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g(),{children:(0,a.jsx)("title",{children:(null==De?void 0:De.name)||"Animation"})}),(0,a.jsxs)(S.o,{headerControl:(0,a.jsx)(z.s,{features:null==De?void 0:De.features,children:(0,a.jsx)(je,{animation:De,animationFetching:$n.fetching})}),contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:[De&&(0,a.jsxs)(z.s,{features:De.features,children:[(0,a.jsxs)(C.I,{className:u()({"flex flex-grow":!0}),handle:wt,onChange:Nt,children:[(0,a.jsx)("div",{className:u()({"relative flex flex-grow ":!0,"transparency-grid":bt}),children:(0,a.jsxs)("div",{className:"relative flex w-full h-full",children:[(0,a.jsx)("div",{className:u()({"absolute inset-0 flex flex-grow ":!0,"transparency-grid":bt}),style:{...st?{background:st}:{}}}),ot===$.s.LOTTIE_MOCKUP?(0,a.jsx)("div",{className:"relative flex items-center justify-center w-full h-full overflow-auto pr-80",children:(0,a.jsx)(ke,{animation:De,canEdit:ut()})}):(0,a.jsxs)("div",{className:u()("relative flex items-center justify-center w-full h-full overflow-auto",{"pr-80":ot!==$.s.NONE}),children:[_e&&!Ke&&(0,a.jsx)(Se,{showComments:!0,canComment:!ct,mentionables:null===(Ne=Kt.data)||void 0===Ne?void 0:Ne.commentMentionableUsers,portalRoot:It.current,animationUrl:_e,currentDiscussion:zt,currentUserId:null===(Oe=Kn.user)||void 0===Oe?void 0:Oe.id,entityId:Mt,entityType:ee.TY.FileVersion,fileId:De.id,controls:!vt,isLight:Wt,onCopyFrameClick:to,onCopyLinkClick:$t,onDeleteComment:At,onEditComment:Lt,onPostComment:Rt,onReplyToComment:Ft,onResolveComment:Pt,onSelectReaction:_t,onUnresolveComment:qt,withContextMenu:!0}),_e&&An&&(0,a.jsx)(Se,{portalRoot:It.current,animationUrl:An,controls:!vt,isLight:Wt,onCopyFrameClick:to,onCopyLinkClick:$t,withContextMenu:!0}),!vt&&(0,a.jsxs)("div",{className:u()("absolute top-0 bottom-0 flex flex-col pt-4 md:pt-8 pr-4 md:pr-8 pb-14 min-h-0",{"right-0":ot===$.s.NONE,"right-86":ot!==$.s.NONE}),children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-2","data-onboarding-id":"anim-panel-btn",children:[ft()&&(0,a.jsx)("div",{"data-onboarding-id":"anim-comment-btn",children:(0,a.jsx)(T.n,{icon:"comment",title:"Comments",shortcut:(0,a.jsx)(M.z,{keys:["C"]}),onClick:oo($.s.COMMENTS),iconColorClass:ot===$.s.COMMENTS?"text-actionPrimary":"text-gray-600"})}),(0,a.jsx)(T.n,{icon:"info",title:"Animation information",onClick:oo($.s.FILE_INFO),iconColorClass:ot===$.s.FILE_INFO?"text-actionPrimary":"text-gray-600"}),ut()&&!ct&&(0,a.jsx)("div",{"data-onboarding-id":"anim-color-palette-btn",children:(0,a.jsx)(T.n,{icon:"color-palette",title:"Color Palette",onClick:oo($.s.COLOR_PALETTES),iconColorClass:ot===$.s.COLOR_PALETTES?"text-actionPrimary":"text-gray-600"})}),!ct&&(0,a.jsx)("div",{"data-onboarding-id":"anim-segment-btn",children:(0,a.jsx)(T.n,{icon:"segment-mockup",title:"Segments & Mockups",onClick:oo($.s.SEGMENT_MOCKUP),iconColorClass:ot===$.s.SEGMENT_MOCKUP?"text-actionPrimary":"text-gray-600"})}),ut()&&(0,a.jsx)("div",{"data-onboarding-id":"anim-version-btn",children:(0,a.jsx)(T.n,{icon:"history",title:"Version History",onClick:oo($.s.VERSIONS),iconColorClass:ot===$.s.VERSIONS?"text-actionPrimary":"text-gray-600"})}),dt()&&!ct&&(0,a.jsx)(T.n,{icon:"embed",title:"Handoff & Embed",iconColorClass:ot===$.s.EMBED?"text-actionPrimary":"text-gray-600",onClick:oo($.s.EMBED)})]}),(0,a.jsxs)("div",{className:"flex flex-col pt-2 pb-4 space-y-2 md:mt-auto md:py-0",children:[(0,a.jsx)(j.s,{}),(0,a.jsx)(T.n,{icon:"grid",title:"Transparency grid",onClick:Ot,iconColorClass:bt?"text-actionPrimary":"text-gray-600"}),(0,a.jsx)(Ee,{animationBackgroundColor:st||"#f8fafc",canUpdate:ut(),onChange:e=>{it(e)},fileId:De.id,portalRoot:It.current}),(0,a.jsx)(T.n,{icon:"full-screen",title:"Full screen",onClick:jt,iconColorClass:vt?"text-actionPrimary":"text-gray-600"}),(0,a.jsx)(N.L,{}),Xn&&(0,a.jsx)(ue.c,{sideOffset:0,align:"end",arrowOffset:-8,side:"bottom",className:"self-end flex justify-center items-center w-full rounded-lg bg-white shadow-[0px 2px 6px 0px rgba(0, 0, 0, 0.06)]",children:(0,a.jsx)(ce.q,{side:"left",align:"end",sideOffset:6,source:"animation sidebar",children:(0,a.jsx)(de.u,{title:"Help & resources",placement:"left",children:(0,a.jsx)(O.h,{id:"helper-menu",name:"help","aria-haspopup":"true","aria-expanded":"true",focusBackgroundClass:"none",hoverBackgroundClass:"none"})})})})]})]})]})]})}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 flex flex-grow overflow-hidden top-16","data-onboarding-watch":"side_panel",children:(0,a.jsxs)(s.u,{show:ot!==$.s.NONE,className:u()("relative flex flex-col bg-white border-l border-gray-100 w-86",{"pb-24":zn.show}),enter:"transform transition ease-in-out duration-50",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-50",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[ot!==$.s.LOTTIE_MOCKUP&&(0,a.jsx)("div",{className:"absolute right-6 top-6",children:(0,a.jsx)(O.h,{name:"cross",onClick:Et,small:!0,iconLighter:!0})}),ot===$.s.COMMENTS&&(0,a.jsx)(ye,{currentUserId:null===(Ie=Kn.user)||void 0===Ie?void 0:Ie.id,discussions:null===(Te=Gt.data)||void 0===Te||null===(Me=Te.comments)||void 0===Me?void 0:Me.edges,isFetchingDiscussions:Gt.fetching,isInputExpanded:Ht,mentionables:null===(Ae=Kt.data)||void 0===Ae?void 0:Ae.commentMentionableUsers,mode:Zt,parentDiscussion:zt,canFetchMoreComments:Dt,onCollapseInput:Jt,onFetchMoreComments:Ut,onExpandInput:Yt,onDelete:At,onEdit:Lt,onPost:Rt,onReply:Ft,onReplyClick:Vt,onResolve:Pt,onSelectReaction:_t,onUnresolve:qt}),ot===$.s.FILE_INFO&&Ue&&(0,a.jsx)(Ce,{fileMetaData:Ue,basicMetadata:Ve,fileData:mt,canEdit:ut(),canDownload:dt(),isEditing:Boolean(ut()&&on),fileUrl:_e,tags:cn,fileVersionId:De.currentVersion.id,pageSource:"animation details page",thumbnailUrl:null==Qe||null===(Fe=Qe.thumbnails)||void 0===Fe||null===(Re=Fe.png)||void 0===Re||null===(Le=Re.medium)||void 0===Le?void 0:Le.url,animation:De,workspaceId:De.project.workspaceId}),ot===$.s.COLOR_PALETTES&&(0,a.jsx)(we,{animationUrl:_e,portalRoot:It.current,workspaceId:De.project.workspaceId,setColorModifiedLottie:lt,setOpenColorPaletteModal:Xe}),ot===$.s.LOTTIE_MOCKUP&&(0,a.jsx)(ge,{canEdit:ut(),animation:De,onBackToLottieMockupList:oo($.s.SEGMENT_MOCKUP)}),ot===$.s.SEGMENT_MOCKUP&&(0,a.jsx)(be,{animation:De,showLottieMockup:oo($.s.LOTTIE_MOCKUP),onSegmentsDirtyChange:fn}),ot===$.s.VERSIONS&&(0,a.jsx)(xe,{onVersionSelected:()=>{He(null),nn()},animation:De}),ot===$.s.EMBED&&(0,a.jsx)(ve,{canUpdatePublicAsset:ut(),fileId:De.id,currentVersionId:De.currentVersionId,workspaceId:De.project.workspaceId}),ot===$.s.QRCODE&&(0,a.jsx)(he,{fileUrl:De.fileObject.url}),ot===$.s.DOWNLOAD&&Ve&&(0,a.jsx)(pe,{animation:De,basicMetadata:Ve,fileMetaData:Ue,source:"animation"})]})}),(0,a.jsx)("div",{ref:It})]}),Je&&Ke&&Qe&&(0,a.jsx)(me,{currentFile:Qe,currentFileId:null==De?void 0:De.id,projectId:null==De||null===(Pe=De.project)||void 0===Pe?void 0:Pe.id,lottieAnimation:p()(Ke),closeCallback:()=>{Xe(!1)},animationName:null==De?void 0:De.name,currentBackgroundColor:(null==De?void 0:De.backgroundColor)||"none",show:!0}),mn&&(0,a.jsx)(A.Z,{buttonTitle:"Discard changes",body:"You’ve made changes to segments that you haven’t saved yet. If you leave now, they’ll be discarded.",cancelTitle:"Stay on page",closeCallback:ro,isDestructive:!1,onConfirm:Xt,showModal:mn,title:"Discard changes to segments?"}),En&&(0,a.jsx)(A.Z,{title:"Confirm copy frame to clipboard?",body:"Your browser, Safari, needs confirmation to copy this frame to the clipboard.",buttonTitle:"Confirm",onConfirm:no,closeCallback:eo,isDestructive:!1,showModal:En})]}),De&&Zn&&!St.fetching&&St.data&&(0,a.jsx)(fe,{animation:De,handback:St.data.fileHandback})]}),(0,a.jsx)("div",{ref:Cn,className:"hidden"})]})};Ne.getLayout=e=>(0,a.jsx)(k.By,{showTopNav:!1,showSidebar:!1,compactSidebar:!0,children:e});var Oe=Ne},73908:function(e,n,t){t.d(n,{s:function(){return s},w:function(){return i}});var o=t(97458),r=t(62295),a=t(52983);const l=a.createContext({features:[]}),s=e=>{let{children:n,features:t}=e;return(0,o.jsx)(l.Provider,{value:{features:t},children:n})},i=()=>{const{features:e}=a.useContext(l);return e?new r.UZ(e):new r.UZ([])}},97769:function(e,n,t){var o,r;t.d(n,{f:function(){return o},p:function(){return r}}),function(e){e.COLLECTION="COLLECTION",e.FILE="FILE"}(o||(o={})),function(e){e.COMMENT="comment",e.DOWNLOAD_AND_VIEW="downloadAndView",e.EDIT_ACCESS="editAccess",e.NO_ACCESS="noAccess",e.VIEW_ONLY="viewOnly"}(r||(r={}))},40888:function(e,n,t){t.d(n,{$V:function(){return l},lr:function(){return a},tL:function(){return r},tr:function(){return i},yo:function(){return c}});var o=t(208);const r=e=>{let{container:n,x:t,y:o}=e;const r=n.getBoundingClientRect(),a=2048/r.width,l=2048/r.height;return{x:t-r.x,y:o-r.y,ratio:{x:a/2048*100,y:l/2048*100}}},a=e=>{let{marker:n}=e;if(n.ratio){return{left:n.x*n.ratio.x,top:n.y*n.ratio.y}}return{left:0,top:0}},l=(e,n)=>{if(e){if(e.url&&e.fileSize)return o.ws.Completed;switch(e.status){case"PROCESSED":return o.ws.Completed;case"ERROR":return o.ws.Failed}}switch(n){case"PROCESSED":return o.ws.Completed;case"FAILED":return o.ws.Failed}return o.ws.InProgress},s=async e=>{const{DotLottie:n}=await t.e(8594).then(t.bind(t,18594)),o=new n;return await o.fromURL(e)},i=async e=>{var n;const t=await s(e);var o;const r=null!==(o=null===(n=t.manifest.animations[0])||void 0===n?void 0:n.id)&&void 0!==o?o:"",a=await t.getAnimation(r);if(!a)return a;return await a.toJSON({inlineAssets:!0})},c=async e=>{var n;const t=await s(e);var o;const r=null!==(o=null===(n=t.manifest.animations[0])||void 0===n?void 0:n.id)&&void 0!==o?o:"",a=await t.getAnimation(r);if(!a)return a;return await a.toArrayBuffer({inlineAssets:!0})}},58587:function(e,n,t){t.d(n,{O6:function(){return r},TI:function(){return l},jn:function(){return a}});const o=async e=>new Promise((n=>setTimeout(n,e))),r=e=>{if(e.hasAttributeNS("http://www.w3.org/1999/xlink","href")){const n=e.getAttributeNS("http://www.w3.org/1999/xlink","href");n&&n.startsWith("data:image/png;")&&e.setAttributeNS("http://www.w3.org/1999/xlink","href",n.replace("data:image/png;","data:;"))}},a=e=>{const n=e.childNodes;for(let t=0;t<n.length;t+=1){const o=n[t];o instanceof SVGElement&&"none"===o.style.display&&e.removeChild(o)}},l=async(e,n)=>{if(!n)return[];const t=n.firstChild;e.pause(),e.goToAndStop(0,!0);const l=[];for(let n=0;n<e.totalFrames;n+=1){e.goToAndStop(n,!0);const s=t.cloneNode(!0);a(s);const i=s.getElementsByTagName("image");for(let e=0;e<i.length;e+=1){const n=i[e];n&&r(n)}const c=(new XMLSerializer).serializeToString(s);l.push(c),await o(10)}return l}},11780:function(e,n,t){t.d(n,{w:function(){return l}});var o=t(25921),r=t(45233);const a={"Access denied!":e=>{var n,t,r,a;const l=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var s;const i=null!==(s=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==s?s:[];throw console.log("Error code:",l),console.log("Stacktrace:",i),new o.J},"Database query failed":e=>{var n,t,r,a;const l=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var s;const i=null!==(s=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==s?s:[];throw console.log("Error code:",l),console.log("Stacktrace:",i),new o.J},"File not found":e=>{var n,t,o,a;const l=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var s;const i=null!==(s=null==e||null===(o=e.extensions)||void 0===o||null===(t=o.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==s?s:[];throw console.log("Error code:",l),console.log("Stacktrace:",i),new r.T},Forbidden:e=>{var n,t,r,a;const l=null!==(a=null==e||null===(n=e.extensions)||void 0===n?void 0:n.code)&&void 0!==a?a:"";var s;const i=null!==(s=null==e||null===(r=e.extensions)||void 0===r||null===(t=r.exception)||void 0===t?void 0:t.stacktrace)&&void 0!==s?s:[];throw console.log("Error code:",l),console.log("Stacktrace:",i),new o.J}};function l(e){e.networkError?console.error("Network error:",e.networkError):e.graphQLErrors&&e.graphQLErrors.length>0?e.graphQLErrors.forEach((e=>{const n=e.message,t=Object.keys(a).find((e=>n.includes(e)));var o;t?null===(o=a[t])||void 0===o||o.call(a,e):console.error("GraphQL error:",e)})):console.error("Unknown error:",e)}},75296:function(e,n,t){t.d(n,{I:function(){return f},r:function(){return u}});var o=t(52983),r={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},a=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],l=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],s=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],i="undefined"!=typeof window&&void 0!==window.document?window.document:{},c="fullscreenEnabled"in i&&Object.keys(r)||a[0]in i&&a||l[0]in i&&l||s[0]in i&&s||[],d={requestFullscreen:function(e){return e[c[r.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[c[r.requestFullscreen]]},get exitFullscreen(){return i[c[r.exitFullscreen]].bind(i)},get fullscreenPseudoClass(){return":"+c[r.fullscreen]},addEventListener:function(e,n,t){return i.addEventListener(c[r[e]],n,t)},removeEventListener:function(e,n,t){return i.removeEventListener(c[r[e]],n,t)},get fullscreenEnabled(){return Boolean(i[c[r.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return i[c[r.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return i[("on"+c[r.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return i[("on"+c[r.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return i[("on"+c[r.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return i[("on"+c[r.fullscreenerror]).toLowerCase()]=e}};function u(){var e=(0,o.useState)(!1),n=e[0],t=e[1],r=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=function(){t(d.fullscreenElement===r.current)};return d.addEventListener("fullscreenchange",e),function(){return d.removeEventListener("fullscreenchange",e)}}),[]);var a=(0,o.useCallback)((function(){return d.fullscreenElement?d.exitFullscreen().then((function(){return d.requestFullscreen(r.current)})):r.current?d.requestFullscreen(r.current):void 0}),[]),l=(0,o.useCallback)((function(){return d.fullscreenElement===r.current?d.exitFullscreen():Promise.resolve()}),[]);return(0,o.useMemo)((function(){return{active:n,enter:a,exit:l,node:r}}),[n,a,l])}var f=function(e){var n=e.handle,t=e.onChange,r=e.children,a=e.className,l=[];return a&&l.push(a),l.push("fullscreen"),n.active&&l.push("fullscreen-enabled"),(0,o.useEffect)((function(){t&&t(n.active,n)}),[n.active]),o.createElement("div",{className:l.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},r)}}}]);